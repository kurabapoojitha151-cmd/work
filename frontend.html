<!DOCTYPE html>
<html lang="en" class="scroll-smooth">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EcoLearn - Learn. Play. Save the Planet.</title>
    <!-- Tailwind CSS via CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Lucide Icons via CDN -->
    <script src="https://unpkg.com/lucide@latest"></script>
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&family=Quicksand:wght@400;500;600;700&display=swap"
        rel="stylesheet">
    <style>
        body {
            font-family: 'Quicksand', sans-serif;
        }

        h1,
        h2,
        h3,
        h4,
        h5,
        h6 {
            font-family: 'Poppins', sans-serif;
        }

        @keyframes pulse-slow {
            50% {
                transform: scale(1.03);
            }
        }

        .animate-pulse-slow {
            animation: pulse-slow 3s infinite;
        }

        /* Styles for smooth accordion transition */
        .accordion-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.5s ease-in-out;
        }

        .accordion-icon {
            transition: transform 0.3s ease-in-out;
        }

        /* Styles for the modals */
        .modal,
        .login-modal {
            transition: opacity 0.3s ease;
        }

        .modal.hidden,
        .login-modal.hidden {
            opacity: 0;
            pointer-events: none;
        }

        .modal:not(.hidden),
        .login-modal:not(.hidden) {
            opacity: 1;
            pointer-events: auto;
        }

        .modal-content {
            transition: transform 0.3s ease;
        }

        /* Styles from EcoLessons */
        .progress-bar-inner,
        #question-timer-bar {
            transition: width 1s linear;
        }

        .quiz-container {
            transition: opacity 0.5s ease, max-height 0.5s ease;
            max-height: 0;
            opacity: 0;
            overflow: hidden;
        }

        .quiz-container.visible {
            max-height: 1000px;
            /* Large enough to not clip content */
            opacity: 1;
        }

        .points-notification {
            animation: fade-in-out 2s ease-in-out;
        }

        @keyframes fade-in-out {
            0% {
                opacity: 0;
                transform: translateY(20px);
            }

            20% {
                opacity: 1;
                transform: translateY(0);
            }

            80% {
                opacity: 1;
                transform: translateY(0);
            }

            100% {
                opacity: 0;
                transform: translateY(-20px);
            }
        }

        .point-animation {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 2rem;
            font-weight: bold;
            animation: float-up 1.5s ease-out forwards;
            pointer-events: none;
            z-index: 100;
        }

        @keyframes float-up {
            0% {
                opacity: 1;
                transform: translate(-50%, -50%) scale(1);
            }

            100% {
                opacity: 0;
                transform: translate(-50%, -150%) scale(1.5);
            }
        }

        .answer-option.correct {
            background-color: #dcfce7;
            /* green-100 */
            border-color: #22c5e5;
            /* green-500 */
        }

        .dark .answer-option.correct {
            background-color: #166534;
            /* green-900 */
        }

        .answer-option.incorrect {
            background-color: #fee2e2;
            /* red-100 */
            border-color: #ef4444;
            /* red-500 */
        }

        .dark .answer-option.incorrect {
            background-color: #991b1b;
            /* red-900 */
        }

        #question-timer-bar-container {
            height: 6px;
        }

        #question-timer-bar {
            height: 100%;
            transition: width 0.2s linear;
        }
    </style>
</head>

<body class="min-h-screen bg-gradient-to-br from-emerald-50 via-white to-cyan-50 text-gray-800">

    <!-- ===== NAVBAR ===== -->
    <nav class="bg-white/80 backdrop-blur-md shadow-md fixed w-full top-0 z-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <!-- Logo -->
                <div class="flex items-center space-x-2 cursor-pointer" onclick="scrollToSection('home')">
                    <i data-lucide="leaf" class="w-8 h-8 text-emerald-600"></i>
                    <span class="text-2xl font-bold text-emerald-700">EcoLearn</span>
                </div>
                <!-- Desktop Navigation -->
                <div class="hidden md:flex space-x-8">
                    <button onclick="scrollToSection('home')"
                        class="text-gray-700 hover:text-emerald-600 font-medium">Home</button>
                    <button onclick="scrollToSection('features')"
                        class="text-gray-700 hover:text-emerald-600 font-medium">Features</button>
                    <button onclick="scrollToSection('challenges')"
                        class="text-gray-700 hover:text-emerald-600 font-medium">Challenges</button>
                    <button onclick="scrollToSection('dashboard')"
                        class="text-gray-700 hover:text-emerald-600 font-medium">Dashboard</button>
                    <button onclick="scrollToSection('contact')"
                        class="text-gray-700 hover:text-emerald-600 font-medium">Contact</button>
                </div>
                <!-- Mobile Menu Button -->
                <button id="mobile-menu-button" class="md:hidden text-gray-700"><i id="menu-icon" data-lucide="menu"
                        class="w-6 h-6"></i><i id="close-icon" data-lucide="x" class="w-6 h-6 hidden"></i></button>
            </div>
            <!-- Mobile Menu -->
            <div id="mobile-menu" class="hidden md:hidden pb-4">
                <button onclick="scrollToSection('home')"
                    class="block w-full text-left py-2 text-gray-700 hover:text-emerald-600 font-medium">Home</button>
                <button onclick="scrollToSection('features')"
                    class="block w-full text-left py-2 text-gray-700 hover:text-emerald-600 font-medium">Features</button>
                <button onclick="scrollToSection('challenges')"
                    class="block w-full text-left py-2 text-gray-700 hover:text-emerald-600 font-medium">Challenges</button>
                <button onclick="scrollToSection('dashboard')"
                    class="block w-full text-left py-2 text-gray-700 hover:text-emerald-600 font-medium">Dashboard</button>
                <button onclick="scrollToSection('contact')"
                    class="block w-full text-left py-2 text-gray-700 hover:text-emerald-600 font-medium">Contact</button>
            </div>
        </div>
    </nav>

    <!-- ===== HERO SECTION ===== -->
    <section id="home" class="pt-24 pb-16 px-4 sm:px-6 lg:px-8">
        <div class="max-w-7xl mx-auto">
            <div class="grid md:grid-cols-2 gap-12 items-center">
                <!-- Hero Text -->
                <div class="space-y-6">
                    <h1 class="text-5xl md:text-6xl font-bold text-gray-900 leading-tight">Learn. Play. Save the <span
                            class="text-emerald-600">Planet</span></h1>
                    <p class="text-xl text-gray-600">Join thousands of students in the world's most engaging
                        environmental education platform. Earn points, complete challenges, and become an eco-champion!
                    </p>
                    <div class="flex flex-col sm:flex-row gap-4">
                        <button id="start-learning-hero-btn"
                            class="bg-emerald-600 text-white px-8 py-4 rounded-full font-semibold hover:bg-emerald-700 transform hover:scale-105 transition-all duration-200 shadow-lg">Start
                            Learning Free</button>
                        <button onclick="scrollToSection('features')"
                            class="border-2 border-emerald-600 text-emerald-600 px-8 py-4 rounded-full font-semibold hover:bg-emerald-50 transition-all duration-200">Explore
                            Features</button>
                    </div>
                    <!-- Animated Stats -->
                    <div class="grid grid-cols-3 gap-4 pt-8">
                        <div class="text-center">
                            <div id="students-stat" class="text-3xl font-bold text-emerald-600">0+</div>
                            <div class="text-sm text-gray-600">Active Students</div>
                        </div>
                        <div class="text-center">
                            <div id="lessons-stat" class="text-3xl font-bold text-cyan-600">0+</div>
                            <div class="text-sm text-gray-600">Lessons</div>
                        </div>
                        <div class="text-center">
                            <div id="trees-stat" class="text-3xl font-bold text-green-600">0+</div>
                            <div class="text-sm text-gray-600">Trees Planted</div>
                        </div>
                    </div>
                </div>
                <!-- Hero Illustration -->
                <div class="relative">
                    <div
                        class="bg-gradient-to-br from-emerald-400 to-cyan-500 rounded-3xl p-8 shadow-2xl transform hover:rotate-1 transition-transform duration-300">
                        <div class="bg-white rounded-2xl p-6 space-y-4">
                            <div class="flex items-center justify-between">
                                <div class="flex items-center space-x-3">
                                    <div class="w-12 h-12 bg-emerald-100 rounded-full flex items-center justify-center">
                                        <i data-lucide="trophy" class="w-6 h-6 text-emerald-600"></i>
                                    </div>
                                    <div>
                                        <div class="font-semibold text-gray-800">Daily Challenge</div>
                                        <div class="text-sm text-gray-500">Water Conservation</div>
                                    </div>
                                </div>
                                <div class="text-2xl font-bold text-emerald-600">+50</div>
                            </div>
                            <div class="w-full bg-gray-200 rounded-full h-3">
                                <div class="bg-emerald-500 h-3 rounded-full w-3/4 animate-pulse"></div>
                            </div>
                            <div class="text-sm text-gray-600">75% Complete - Keep going!</div>
                        </div>
                    </div>
                    <div class="absolute -top-4 -right-4 bg-yellow-400 rounded-full p-4 shadow-lg animate-bounce"><i
                            data-lucide="award" class="w-8 h-8 text-white"></i></div>
                    <div class="absolute -bottom-4 -left-4 bg-cyan-400 rounded-full p-4 shadow-lg animate-pulse-slow"><i
                            data-lucide="zap" class="w-8 h-8 text-white"></i></div>
                </div>
            </div>
        </div>
    </section>

    <!-- ===== EXPANDABLE FEATURES SECTION ===== -->
    <section id="features" class="py-16 px-4 sm:px-6 lg:px-8 bg-white">
        <!-- This section remains as-is, describing the features -->
        <div class="max-w-7xl mx-auto">
            <div class="text-center mb-12">
                <h2 class="text-4xl font-bold text-gray-900 mb-4">Why Students Love EcoLearn</h2>
                <p class="text-xl text-gray-600">Engaging features that make environmental education fun and rewarding.
                </p>
            </div>
            <div class="space-y-6">
                <!-- Accordion items describe features, but lessons are now in the dashboard -->
                <div class="border border-gray-200 rounded-xl">
                    <button class="accordion-header w-full flex justify-between items-center p-6 text-left">
                        <div class="flex items-center space-x-4">
                            <div class="w-16 h-16 bg-emerald-100 rounded-full flex items-center justify-center"><i
                                    data-lucide="book-open" class="w-8 h-8 text-emerald-600"></i></div>
                            <div>
                                <h3 class="text-2xl font-bold text-gray-800">Dynamic Video Lessons</h3>
                                <p class="text-lg text-gray-600 mt-1 hidden sm:block">Watch engaging videos on key
                                    environmental topics.</p>
                            </div>
                        </div>
                        <i data-lucide="chevron-down" class="accordion-icon w-8 h-8 text-gray-500 flex-shrink-0"></i>
                    </button>
                    <div class="accordion-content">
                        <p class="p-6 pt-0 text-gray-700">Our platform features a curated library of videos covering
                            topics like climate change, waste management, biodiversity, and sustainable living. Each
                            lesson is designed to be informative and engaging for learners of all ages. Head to the
                            dashboard to start learning!</p>
                    </div>
                </div>
                <div class="border border-gray-200 rounded-xl">
                    <button class="accordion-header w-full flex justify-between items-center p-6 text-left">
                        <div class="flex items-center space-x-4">
                            <div class="w-16 h-16 bg-yellow-100 rounded-full flex items-center justify-center"><i
                                    data-lucide="gamepad-2" class="w-8 h-8 text-yellow-600"></i></div>
                            <div>
                                <h3 class="text-2xl font-bold text-gray-800">Interactive Quizzes</h3>
                                <p class="text-lg text-gray-600 mt-1 hidden sm:block">Test your knowledge with
                                    fast-paced, timed quizzes.</p>
                            </div>
                        </div>
                        <i data-lucide="chevron-down" class="accordion-icon w-8 h-8 text-gray-500 flex-shrink-0"></i>
                    </button>
                    <div class="accordion-content">
                        <p class="p-6 pt-0 text-gray-700">After watching a video, you'll face a series of dynamic quiz
                            questions. New questions appear every 20 seconds! Answer correctly to earn points, but be
                            careful—wrong answers will cost you. It's a fun way to reinforce what you've learned.</p>
                    </div>
                </div>
                <div class="border border-gray-200 rounded-xl">
                    <button class="accordion-header w-full flex justify-between items-center p-6 text-left">
                        <div class="flex items-center space-x-4">
                            <div class="w-16 h-16 bg-purple-100 rounded-full flex items-center justify-center"><i
                                    data-lucide="trophy" class="w-8 h-8 text-purple-600"></i></div>
                            <div>
                                <h3 class="text-2xl font-bold text-gray-800">Earn Points & Badges</h3>
                                <p class="text-lg text-gray-600 mt-1 hidden sm:block">Collect prestigious badges for
                                    mastering topics and making a difference.</p>
                            </div>
                        </div>
                        <i data-lucide="chevron-down" class="accordion-icon w-8 h-8 text-gray-500 flex-shrink-0"></i>
                    </button>
                    <div class="accordion-content">
                        <p class="p-6 pt-0 text-gray-700">Every minute you watch and every correct answer you give earns
                            you EcoPoints. Complete a lesson to earn a completion badge and show off your expertise.
                            Compete with friends and climb the global leaderboard!</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- ===== ECOLESSONS DASHBOARD SECTION (INTEGRATED) ===== -->
    <section id="dashboard" class="py-16 px-4 sm:px-6 lg:px-8">
        <div class="max-w-7xl mx-auto">
            <div class="text-center mb-12">
                <div class="w-16 h-16 bg-emerald-100 rounded-full flex items-center justify-center mx-auto mb-4"><i
                        data-lucide="layout-dashboard" class="w-8 h-8 text-emerald-600"></i></div>
                <h2 class="text-4xl font-bold text-gray-900 mb-4">Your Learning Dashboard</h2>
                <p class="text-xl text-gray-600">This is your personal command center. Start a lesson to begin your
                    journey!</p>
            </div>

            <header
                class="flex flex-col md:flex-row justify-between items-center mb-8 bg-white p-6 rounded-2xl shadow-lg border border-gray-200">
                <div class="flex items-center space-x-3 mb-4 md:mb-0">
                    <i data-lucide="user-check" class="w-10 h-10 text-emerald-600"></i>
                    <h3 id="lesson-header" class="text-3xl font-bold text-gray-900">Your Lessons</h3>
                </div>
                <div class="text-center relative">
                    <p class="text-lg font-semibold text-gray-600">Total EcoPoints</p>
                    <p id="points-display" class="text-4xl font-bold text-emerald-600">0</p>
                    <div id="points-notifier" class="absolute left-1/2 -translate-x-1/2 top-full mt-2"></div>
                </div>
            </header>

            <div id="lessons-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8">
                <!-- Lesson cards will be dynamically inserted here by JS -->
            </div>
        </div>
    </section>


    <!-- ===== CHALLENGES SECTION ===== -->
    <section id="challenges" class="py-16 px-4 sm:px-6 lg:px-8 bg-white">
        <div class="max-w-7xl mx-auto">
            <div class="text-center mb-12">
                <div class="w-16 h-16 bg-cyan-100 rounded-full flex items-center justify-center mx-auto mb-4"><i
                        data-lucide="target" class="w-8 h-8 text-cyan-600"></i></div>
                <h2 class="text-4xl font-bold text-gray-900 mb-4">Turn Learning into Action</h2>
                <p class="text-xl text-gray-600">Complete weekly challenges to earn bonus points and make a real-world
                    impact.</p>
            </div>
            <div class="grid md:grid-cols-3 gap-6">
                <div class="bg-white rounded-xl shadow-lg p-6 border-t-4 border-emerald-500">
                    <div class="flex items-center justify-between mb-4">
                        <h3 class="text-lg font-bold text-gray-800">Water Saver</h3><span
                            class="bg-emerald-100 text-emerald-700 px-3 py-1 rounded-full text-sm font-semibold">+100
                            pts</span>
                    </div>
                    <p class="text-gray-600 mb-4">Take 5-minute showers for 7 days.</p>
                    <div class="w-full bg-gray-200 rounded-full h-2 mb-2">
                        <div class="bg-emerald-500 h-2 rounded-full" style="width: 60%"></div>
                    </div>
                    <p class="text-sm text-gray-500">4/7 days completed</p>
                </div>
                <div class="bg-white rounded-xl shadow-lg p-6 border-t-4 border-cyan-500">
                    <div class="flex items-center justify-between mb-4">
                        <h3 class="text-lg font-bold text-gray-800">Zero Waste Lunch</h3><span
                            class="bg-cyan-100 text-cyan-700 px-3 py-1 rounded-full text-sm font-semibold">+75
                            pts</span>
                    </div>
                    <p class="text-gray-600 mb-4">Use a reusable lunch container for 5 days.</p>
                    <div class="w-full bg-gray-200 rounded-full h-2 mb-2">
                        <div class="bg-cyan-500 h-2 rounded-full" style="width: 80%"></div>
                    </div>
                    <p class="text-sm text-gray-500">4/5 days completed</p>
                </div>
                <div class="bg-white rounded-xl shadow-lg p-6 border-t-4 border-yellow-500">
                    <div class="flex items-center justify-between mb-4">
                        <h3 class="text-lg font-bold text-gray-800">Eco Commuter</h3><span
                            class="bg-yellow-100 text-yellow-700 px-3 py-1 rounded-full text-sm font-semibold">+150
                            pts</span>
                    </div>
                    <p class="text-gray-600 mb-4">Walk, bike, or carpool for an entire week.</p>
                    <div class="w-full bg-gray-200 rounded-full h-2 mb-2">
                        <div class="bg-yellow-500 h-2 rounded-full" style="width: 40%"></div>
                    </div>
                    <p class="text-sm text-gray-500">2/5 days completed</p>
                </div>
            </div>
        </div>
    </section>

    <!-- ===== BADGES SECTION ===== -->
    <section id="badges" class="py-16 px-4 sm:px-6 lg:px-8">
        <div class="max-w-7xl mx-auto">
            <div class="text-center mb-12">
                <div class="w-16 h-16 bg-yellow-100 rounded-full flex items-center justify-center mx-auto mb-4"><i
                        data-lucide="award" class="w-8 h-8 text-yellow-600"></i></div>
                <h2 class="text-4xl font-bold text-gray-900 mb-4">Show Off Your Achievements</h2>
                <p class="text-xl text-gray-600">Complete tasks to unlock these prestigious badges.</p>
            </div>
            <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-8">
                <div class="badge-card text-center p-4 cursor-pointer" data-badge-type="water">
                    <div
                        class="w-32 h-32 bg-gradient-to-br from-blue-400 to-blue-600 rounded-full flex items-center justify-center mb-4 mx-auto shadow-lg transform hover:scale-110 transition-transform">
                        <i data-lucide="droplet" class="w-16 h-16 text-white"></i>
                    </div>
                    <h4 class="text-lg font-bold text-gray-800">Water Guardian</h4>
                </div>
                <div class="badge-card text-center p-4 cursor-pointer" data-badge-type="recycling">
                    <div
                        class="w-32 h-32 bg-gradient-to-br from-green-400 to-green-600 rounded-full flex items-center justify-center mb-4 mx-auto shadow-lg transform hover:scale-110 transition-transform">
                        <i data-lucide="recycle" class="w-16 h-16 text-white"></i>
                    </div>
                    <h4 class="text-lg font-bold text-gray-800">Recycling Ranger</h4>
                </div>
                <div class="badge-card text-center p-4 cursor-pointer" data-badge-type="energy">
                    <div
                        class="w-32 h-32 bg-gradient-to-br from-yellow-400 to-yellow-600 rounded-full flex items-center justify-center mb-4 mx-auto shadow-lg transform hover:scale-110 transition-transform">
                        <i data-lucide="zap" class="w-16 h-16 text-white"></i>
                    </div>
                    <h4 class="text-lg font-bold text-gray-800">Energy Saver</h4>
                </div>
                <div class="badge-card text-center p-4 cursor-pointer" data-badge-type="forest">
                    <div
                        class="w-32 h-32 bg-gradient-to-br from-emerald-400 to-emerald-600 rounded-full flex items-center justify-center mb-4 mx-auto shadow-lg transform hover:scale-110 transition-transform">
                        <i data-lucide="trees" class="w-16 h-16 text-white"></i>
                    </div>
                    <h4 class="text-lg font-bold text-gray-800">Forest Friend</h4>
                </div>
                <div class="badge-card text-center p-4 cursor-pointer" data-badge-type="champion">
                    <div
                        class="w-32 h-32 bg-gradient-to-br from-purple-400 to-purple-600 rounded-full flex items-center justify-center mb-4 mx-auto shadow-lg transform hover:scale-110 transition-transform">
                        <i data-lucide="award" class="w-16 h-16 text-white"></i>
                    </div>
                    <h4 class="text-lg font-bold text-gray-800">Eco-Champion</h4>
                </div>
            </div>
        </div>
    </section>

    <!-- ===== CONTACT/JOIN FORM ===== -->
    <section id="contact" class="py-16 px-4 sm:px-6 lg:px-8 bg-white">
        <div class="max-w-4xl mx-auto">
            <div class="text-center mb-12">
                <h2 class="text-4xl font-bold text-gray-900 mb-4">Join the EcoLearn Community</h2>
                <p class="text-xl text-gray-600">Have a question or want to get involved? Send us a message!</p>
            </div>
            <div class="bg-white rounded-2xl shadow-xl p-8">
                <form id="contact-form" class="space-y-6">
                    <div class="grid sm:grid-cols-2 gap-6">
                        <input type="text" placeholder="Your Name"
                            class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:outline-none">
                        <input type="email" placeholder="Your Email"
                            class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:outline-none">
                    </div>
                    <textarea placeholder="Your Message" rows="5"
                        class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:outline-none"></textarea>
                    <button type="submit"
                        class="w-full bg-emerald-600 text-white px-8 py-4 rounded-full font-semibold hover:bg-emerald-700 transform hover:scale-105 transition-all duration-200 shadow-lg">Send
                        Message</button>
                </form>
            </div>
        </div>
    </section>

    <!-- ===== FOOTER ===== -->
    <footer class="bg-gray-900 text-white py-12 px-4 sm:px-6 lg:px-8">
        <div class="max-w-7xl mx-auto text-center">
            <div class="flex items-center justify-center space-x-2 mb-4">
                <i data-lucide="leaf" class="w-8 h-8 text-emerald-500"></i>
                <span class="text-2xl font-bold">EcoLearn</span>
            </div>
            <p class="text-gray-400 mb-6">Learn. Play. Save the Planet.</p>
            <div class="flex justify-center space-x-6 mb-8">
                <button onclick="scrollToSection('home')" class="text-gray-400 hover:text-white">Home</button>
                <button onclick="scrollToSection('features')" class="text-gray-400 hover:text-white">Features</button>
                <button onclick="scrollToSection('dashboard')" class="text-gray-400 hover:text-white">Dashboard</button>
            </div>
            <p class="text-gray-500 text-sm">© 2025 EcoLearn. All rights reserved.</p>
        </div>
    </footer>


    <!-- MODALS SECTION -->

    <!-- Login Modal (from EcoLessons) -->
    <div id="login-modal"
        class="login-modal hidden fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center p-4 z-[60]">
        <div class="modal-content bg-white rounded-2xl shadow-2xl w-full max-w-sm p-8 text-center transform scale-100">
            <h2 class="text-2xl font-bold mb-4 text-gray-900">Welcome to EcoLearn!</h2>
            <p class="mb-6 text-gray-600">Please enter your name to begin your learning journey.</p>
            <input type="text" id="name-input" placeholder="Your Name"
                class="w-full px-4 py-2 border border-gray-300 rounded-lg mb-4 bg-gray-50 focus:ring-2 focus:ring-emerald-500 focus:outline-none">
            <button id="start-learning-btn"
                class="w-full bg-emerald-600 hover:bg-emerald-700 text-white font-bold py-3 px-4 rounded-lg transition-colors">Start
                Learning</button>
        </div>
    </div>

    <!-- Universal Lesson Modal (from EcoLessons) -->
    <div id="lesson-modal"
        class="modal hidden fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center p-4 z-[60]">
        <div id="lesson-modal-content"
            class="modal-content bg-white rounded-2xl shadow-2xl w-full max-w-3xl p-6 relative transform scale-95 max-h-[90vh] overflow-y-auto">
            <button id="close-lesson-modal-btn" class="absolute top-4 right-4 text-gray-500 hover:text-gray-800 z-10">
                <i data-lucide="x" class="w-6 h-6"></i>
            </button>
            <div id="modal-body"></div>
        </div>
    </div>

    <!-- Badge Tasks Modal (from EcoLearn) -->
    <div id="badge-modal"
        class="modal hidden fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-[60] p-4">
        <div class="bg-white p-6 rounded-lg shadow-2xl w-full max-w-md relative max-h-[90vh] flex flex-col">
            <button id="close-badge-modal" class="absolute top-4 right-4 text-gray-500 hover:text-gray-800">
                <i data-lucide="x" class="w-6 h-6"></i>
            </button>
            <div id="badge-modal-header" class="flex items-center space-x-4 mb-4">
                <!-- Header content will be injected by JS -->
            </div>
            <h3 class="text-xl font-bold text-gray-800 mb-4">Complete these tasks to earn the badge:</h3>
            <div class="overflow-y-auto pr-4">
                <ul id="badge-task-list" class="space-y-3">
                    <!-- Task list items will be injected by JS -->
                </ul>
            </div>
        </div>
    </div>


    <script>
        document.addEventListener('DOMContentLoaded', function () {
            // --- ECOLEARN TEMPLATE SCRIPT ---
            lucide.createIcons();

            const mobileMenuButton = document.getElementById('mobile-menu-button');
            const mobileMenu = document.getElementById('mobile-menu');
            const menuIcon = document.getElementById('menu-icon');
            const closeIcon = document.getElementById('close-icon');
            mobileMenuButton.addEventListener('click', () => {
                mobileMenu.classList.toggle('hidden');
                menuIcon.classList.toggle('hidden');
                closeIcon.classList.toggle('hidden');
            });

            window.scrollToSection = (id) => {
                const section = document.getElementById(id);
                if (section) {
                    const yOffset = -80;
                    const y = section.getBoundingClientRect().top + window.pageYOffset + yOffset;
                    window.scrollTo({ top: y, behavior: 'smooth' });
                }
                if (!mobileMenu.classList.contains('hidden')) {
                    mobileMenu.classList.add('hidden');
                    menuIcon.classList.remove('hidden');
                    closeIcon.classList.add('hidden');
                }
            };

            const accordionHeaders = document.querySelectorAll('.accordion-header');
            accordionHeaders.forEach(header => {
                header.addEventListener('click', () => {
                    const content = header.nextElementSibling;
                    const icon = header.querySelector('.accordion-icon');
                    const isOpen = content.style.maxHeight;
                    document.querySelectorAll('.accordion-content').forEach(c => {
                        c.style.maxHeight = null;
                        c.previousElementSibling.querySelector('.accordion-icon').style.transform = 'rotate(0deg)';
                    });
                    if (!isOpen) {
                        content.style.maxHeight = content.scrollHeight + "px";
                        icon.style.transform = 'rotate(180deg)';
                    }
                });
            });

            const animateStat = (element, start, end, duration) => {
                if (!element) return;
                let startTimestamp = null;
                const step = (timestamp) => {
                    if (!startTimestamp) startTimestamp = timestamp;
                    const progress = Math.min((timestamp - startTimestamp) / duration, 1);
                    const currentValue = Math.floor(progress * (end - start) + start);
                    element.innerHTML = ${ currentValue.toLocaleString() } +;
                    if (progress < 1) window.requestAnimationFrame(step);
                };
                window.requestAnimationFrame(step);
            };

            const statSection = document.getElementById('students-stat');
            if (statSection) {
                const observer = new IntersectionObserver((entries) => {
                    entries.forEach(entry => {
                        if (entry.isIntersecting) {
                            animateStat(document.getElementById('students-stat'), 0, 15000, 2000);
                            animateStat(document.getElementById('lessons-stat'), 0, 250, 2000);
                            animateStat(document.getElementById('trees-stat'), 0, 50000, 2000);
                            observer.unobserve(entry.target);
                        }
                    });
                }, { threshold: 0.1 });
                observer.observe(statSection);
            }

            const badgeTasks = {
                water: { title: "Water Guardian", icon: '<div class="w-16 h-16 bg-gradient-to-br from-blue-400 to-blue-600 rounded-full flex items-center justify-center flex-shrink-0"><i data-lucide="droplet" class="w-10 h-10 text-white"></i></div>', tasks: ["Take a 5-minute shower every day for a week.", "Turn off the tap while brushing your teeth.", "Fix a leaky faucet in your home.", "Use a reusable water bottle for 30 days.", "Help water plants with collected rainwater."] },
                recycling: { title: "Recycling Ranger", icon: '<div class="w-16 h-16 bg-gradient-to-br from-green-400 to-green-600 rounded-full flex items-center justify-center flex-shrink-0"><i data-lucide="recycle" class="w-10 h-10 text-white"></i></div>', tasks: ["Correctly sort your recycling for a full month.", "Start a compost bin at home.", "Organize a recycling drive in your neighborhood.", "Create a piece of art from recycled materials.", "Go one week without using any single-use plastic bags."] },
                energy: { title: "Energy Saver", icon: '<div class="w-16 h-16 bg-gradient-to-br from-yellow-400 to-yellow-600 rounded-full flex items-center justify-center flex-shrink-0"><i data-lucide="zap" class="w-10 h-10 text-white"></i></div>', tasks: ["Switch off lights when leaving a room for a month.", "Unplug chargers and electronics when not in use.", "Help switch 5 light bulbs to energy-efficient LEDs.", "Spend an hour of 'no electricity' time with family.", "Walk or bike for a short trip instead of using a car."] },
                forest: { title: "Forest Friend", icon: '<div class="w-16 h-16 bg-gradient-to-br from-emerald-400 to-emerald-600 rounded-full flex items-center justify-center flex-shrink-0"><i data-lucide="trees" class="w-10 h-10 text-white"></i></div>', tasks: ["Plant a tree in your community or backyard.", "Use both sides of a piece of paper for a week.", "Identify 5 native tree species in your area.", "Go on a nature walk and pick up litter.", "Build a bird feeder or insect hotel."] },
                champion: { title: "Eco-Champion", icon: '<div class="w-16 h-16 bg-gradient-to-br from-purple-400 to-purple-600 rounded-full flex items-center justify-center flex-shrink-0"><i data-lucide="award" class="w-10 h-10 text-white"></i></div>', tasks: ["Earn all other badges.", "Reach a 30-day challenge streak.", "Climb to the Top 100 on the leaderboard.", "Present an eco-topic to your class or family.", "Inspire a friend to join EcoLearn and complete 5 challenges."] }
            };
            const badgeModal = document.getElementById('badge-modal');
            const closeBadgeModalButton = document.getElementById('close-badge-modal');
            const badgeModalHeader = document.getElementById('badge-modal-header');
            const badgeTaskList = document.getElementById('badge-task-list');
            const badgeCards = document.querySelectorAll('.badge-card');

            badgeCards.forEach(card => {
                card.addEventListener('click', () => {
                    const badgeType = card.getAttribute('data-badge-type');
                    const badgeData = badgeTasks[badgeType];
                    if (badgeData) {
                        badgeModalHeader.innerHTML = ${ badgeData.icon } <h2 class="text-3xl font-bold text-gray-900">${badgeData.title}</h2>;
                        badgeTaskList.innerHTML = badgeData.tasks.map(task => <li class="flex items-start space-x-3 text-gray-700"><i data-lucide="check-circle" class="w-5 h-5 text-emerald-500 flex-shrink-0 mt-1"></i><span>${task}</span></li>).join('');
                        lucide.createIcons();
                        badgeModal.classList.remove('hidden');
                    }
                });
            });
            function closeBadgeModal() { badgeModal.classList.add('hidden'); }
            closeBadgeModalButton.addEventListener('click', closeBadgeModal);
            badgeModal.addEventListener('click', (e) => { if (e.target === badgeModal) closeBadgeModal(); });

            // --- ECOLESSONS INTEGRATED SCRIPT ---

            // State Management
            let totalPoints = 0;
            let currentLessonId = null;
            let currentQuestionIndex = 0;
            let lessonInterval = null;
            let questionInterval = null;
            let questionTimer = null;
            let userName = '';
            const LESSON_DURATION = 180;
            const QUIZ_APPEAR_TIME = 20;
            const QUESTION_DURATION = 20;
            const POINTS_PER_MINUTE = 10;
            const CORRECT_ANSWER_POINTS = 5;
            const WRONG_ANSWER_POINTS = -1;

            const lessons = {
                '1': {
                    title: 'Climate Change', intro: 'Learn about our planet\'s climate and how we can protect it.', videoUrl: 'https://www.youtube.com/embed/EtW2rrLHs08',
                    quiz: [
                        { q: 'What is a major cause of climate change?', a: ['Burning fossil fuels', 'Planting trees', 'Recycling'], correct: 0 },
                        { q: 'Which gas is a primary greenhouse gas?', a: ['Oxygen', 'Carbon Dioxide', 'Nitrogen'], correct: 1 },
                        { q: 'What is the "greenhouse effect"?', a: ['Plants growing faster', 'Gases trapping heat', 'Earth turning green'], correct: 1 },
                        { q: 'Melting glaciers contribute to...', a: ['Lower sea levels', 'Cooler temperatures', 'Rising sea levels'], correct: 2 }
                    ], completed: false, quizCompleted: false
                },
                '2': {
                    title: 'Waste Management', intro: 'Discover the journey of our trash and how we can reduce our footprint.', videoUrl: 'https://www.youtube.com/embed/OasbYWF4_S8',
                    quiz: [
                        { q: 'What does "Reuse" mean?', a: ['Buy new items', 'Use something again', 'Throw it away'], correct: 1 },
                        { q: 'Composting is a way to recycle what?', a: ['Plastic bottles', 'Food scraps', 'Electronics'], correct: 1 },
                        { q: 'What is a landfill?', a: ['A water park', 'A place to bury trash', 'A recycling center'], correct: 1 },
                        { q: 'Which item is generally NOT recyclable?', a: ['Glass bottle', 'Plastic-coated paper cup', 'Aluminum can'], correct: 1 }
                    ], completed: false, quizCompleted: false
                },
                '3': {
                    title: 'Biodiversity', intro: 'Explore the importance of the variety of life on Earth.', videoUrl: 'https://www.youtube.com/embed/GK_vRtHJZu4',
                    quiz: [
                        { q: 'What is biodiversity?', a: ['A type of energy', 'The variety of life', 'A single species'], correct: 1 },
                        { q: 'What is a major threat to biodiversity?', a: ['Habitat loss', 'Planting native trees', 'Creating parks'], correct: 0 },
                        { q: 'An endangered species is...', a: ['Common everywhere', 'At risk of extinction', 'A newly discovered species'], correct: 1 },
                        { q: 'Why are coral reefs important?', a: ['They are colorful', 'They are home to many species', 'They are made of rock'], correct: 1 }
                    ], completed: false, quizCompleted: false
                },
                '4': {
                    title: 'Sustainable Living', intro: 'Find out about daily habits that reduce your environmental impact.', videoUrl: 'https://www.youtube.com/embed/DmVNGD6jbaY',
                    quiz: [
                        { q: 'Sustainable living aims to reduce your...', a: ['Happiness', 'Ecological footprint', 'Number of friends'], correct: 1 },
                        { q: 'Which is an example of renewable energy?', a: ['Coal', 'Natural Gas', 'Solar Power'], correct: 2 },
                        { q: 'What does "eating local" help reduce?', a: ['Food flavor', 'Transportation pollution', 'Grocery costs'], correct: 1 },
                        { q: 'Turning off lights when you leave a room...', a: ['Wastes energy', 'Saves energy', 'Has no effect'], correct: 1 }
                    ], completed: false, quizCompleted: false
                }
            };

            // DOM Elements
            const loginModal = document.getElementById('login-modal');
            const nameInput = document.getElementById('name-input');
            const startLearningBtn = document.getElementById('start-learning-btn');
            const startLearningHeroBtn = document.getElementById('start-learning-hero-btn');
            const lessonHeader = document.getElementById('lesson-header');
            const pointsDisplay = document.getElementById('points-display');
            const pointsNotifier = document.getElementById('points-notifier');
            const lessonsGrid = document.getElementById('lessons-grid');
            const lessonModal = document.getElementById('lesson-modal');
            const lessonModalContent = document.getElementById('lesson-modal-content');
            const closeLessonModalBtn = document.getElementById('close-lesson-modal-btn');
            const modalBody = document.getElementById('modal-body');

            // User & Login
            const handleLogin = () => {
                const name = nameInput.value.trim();
                if (name) {
                    userName = name;
                    lessonHeader.textContent = ${ userName } 's Dashboard;
                    loginModal.classList.add('hidden');
                    scrollToSection('dashboard');
                } else {
                    alert('Please enter your name to continue.');
                }
            };

            const openLoginModal = () => loginModal.classList.remove('hidden');

            startLearningBtn.addEventListener('click', handleLogin);
            startLearningHeroBtn.addEventListener('click', openLoginModal);
            nameInput.addEventListener('keyup', (e) => { if (e.key === 'Enter') handleLogin(); });

            // Animation & Points
            const showPointsAnimation = (points, lessonId) => {
                const lessonCard = document.querySelector(.lesson - card[data - lesson - id="${lessonId}"]);
                if (!lessonCard) return;
                const animationEl = document.createElement('div');
                animationEl.className = 'point-animation';
                animationEl.textContent = points > 0 ? +${ points } : ${ points };
                animationEl.style.color = points > 0 ? '#10b981' : '#ef4444'; // emerald-600, red-500
                lessonCard.style.position = 'relative';
                lessonCard.appendChild(animationEl);
                setTimeout(() => animationEl.remove(), 1500);
            };

            const updatePointsDisplay = (awardedPoints = 0, isPerMinute = false) => {
                totalPoints = Math.max(0, totalPoints);
                pointsDisplay.textContent = totalPoints.toLocaleString();
                if (isPerMinute && awardedPoints > 0) {
                    pointsNotifier.innerHTML = <span class="points-notification font-semibold text-emerald-600 bg-white px-3 py-1 rounded-full shadow-lg">+${awardedPoints} EcoPoints!</span>;
                    setTimeout(() => pointsNotifier.innerHTML = '', 2000);
                }
            };

            // Lesson Rendering
            const renderLessons = () => {
                lessonsGrid.innerHTML = '';
                Object.keys(lessons).forEach(id => {
                    const lesson = lessons[id];
                    const card = document.createElement('div');
                    card.className = 'lesson-card bg-white p-6 rounded-2xl shadow-lg flex flex-col transform hover:scale-105 transition-transform duration-300';
                    card.dataset.lessonId = id;
                    card.innerHTML = `
                        <div class="flex justify-between items-start mb-3">
                            <h4 class="text-2xl font-bold text-gray-900">${lesson.title}</h4>
                            <div class="${lesson.completed ? '' : 'hidden'} text-yellow-400" title="Completed!">
                                <i data-lucide="award" class="w-8 h-8"></i>
                            </div>
                        </div>
                        <p class="mb-6 text-gray-600 flex-grow">${lesson.intro}</p>
                        <button class="start-lesson-btn w-full font-bold py-3 px-4 rounded-lg transition-colors ${lesson.completed ? 'bg-gray-400 text-gray-100 cursor-not-allowed' : 'bg-emerald-600 hover:bg-emerald-700 text-white'}" data-lesson-id="${id}" ${lesson.completed ? 'disabled' : ''}>
                            ${lesson.completed ? 'Completed!' : 'Start Lesson'}
                        </button>
                    `;
                    lessonsGrid.appendChild(card);
                });
                lucide.createIcons();
                document.querySelectorAll('.start-lesson-btn').forEach(btn => {
                    btn.addEventListener('click', () => startLesson(btn.dataset.lessonId));
                });
            };

            // Lesson Modal & Cleanup
            const openLessonModal = () => {
                lessonModal.classList.remove('hidden');
                setTimeout(() => {
                    lessonModal.style.opacity = '1';
                    lessonModalContent.style.transform = 'scale(1)';
                }, 10);
            };

            const cleanupTimers = () => {
                clearInterval(lessonInterval);
                clearInterval(questionInterval);
                clearTimeout(questionTimer);
                lessonInterval = questionInterval = questionTimer = null;
            };

            const closeLessonModal = () => {
                lessonModal.style.opacity = '0';
                lessonModalContent.style.transform = 'scale(0.95)';
                setTimeout(() => {
                    lessonModal.classList.add('hidden');
                    const videoIframe = modalBody.querySelector('iframe');
                    if (videoIframe) videoIframe.src = 'about:blank';
                    modalBody.innerHTML = '';
                    cleanupTimers();
                    if (currentLessonId) lessons[currentLessonId].quizCompleted = false;
                    currentLessonId = null;
                }, 300);
            };

            // Lesson Flow
            const startLesson = (id) => {
                currentLessonId = id;
                currentQuestionIndex = 0;
                const lesson = lessons[id];

                modalBody.innerHTML = `
                    <h3 class="text-2xl font-bold mb-4 text-gray-900">${lesson.title}</h3>
                    <div class="aspect-w-16 aspect-h-9 bg-black rounded-lg mb-4 overflow-hidden">
                        <iframe class="w-full h-full" src="${lesson.videoUrl}?autoplay=1&mute=1&controls=0" title="Lesson Video Player" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe>
                    </div>
                    <p id="progress-status" class="text-center font-semibold mb-2 text-emerald-600">Lesson in progress...</p>
                    <div class="w-full bg-gray-200 rounded-full h-2.5 mb-4"><div id="progress-bar" class="progress-bar-inner bg-emerald-500 h-2.5 rounded-full" style="width: 0%"></div></div>
                    <div id="quiz-container" class="quiz-container mt-4 border-t border-gray-200 pt-4">
                        <h4 class="text-xl font-bold mb-3">Knowledge Check!</h4>
                        <div id="question-area"></div>
                    </div>
                `;
                openLessonModal();
                lucide.createIcons(); // For the close button icon
                startLessonProgress();
            };

            const startLessonProgress = () => {
                let seconds = 0;
                const progressBar = document.getElementById('progress-bar');
                const progressStatus = document.getElementById('progress-status');
                const quizContainer = document.getElementById('quiz-container');

                lessonInterval = setInterval(() => {
                    seconds++;
                    if (progressBar) progressBar.style.width = ${ (seconds / LESSON_DURATION) * 100 }%;

                    if (seconds === QUIZ_APPEAR_TIME) {
                        if (quizContainer) quizContainer.classList.add('visible');
                        showNextQuestion();
                    }

                    if (seconds > 0 && seconds % 60 === 0) {
                        totalPoints += POINTS_PER_MINUTE;
                        updatePointsDisplay(POINTS_PER_MINUTE, true);
                    }

                    if (seconds >= LESSON_DURATION) {
                        clearInterval(lessonInterval);
                        lessonInterval = null;
                        if (lessons[currentLessonId].quizCompleted) {
                            if (progressStatus) progressStatus.textContent = "Lesson Complete!";
                            lessons[currentLessonId].completed = true;
                            renderLessons();
                            setTimeout(closeLessonModal, 2000);
                        } else {
                            if (progressStatus) progressStatus.textContent = "Time's up! Finish the quiz to complete the lesson.";
                        }
                    }
                }, 1000);
            };

            // Dynamic Quiz Logic
            const showNextQuestion = () => {
                cleanupTimers();
                const lesson = lessons[currentLessonId];
                const questionArea = document.getElementById('question-area');
                if (!questionArea) return;

                if (currentQuestionIndex >= lesson.quiz.length) {
                    questionArea.innerHTML = <p class="p-4 text-center rounded-lg bg-emerald-100 text-emerald-800 font-semibold">Quiz Complete! Great work!</p>;
                    lesson.quizCompleted = true;
                    if (!lessonInterval && !lesson.completed) {
                        const progressStatus = document.getElementById('progress-status');
                        if (progressStatus) progressStatus.textContent = "Lesson Complete!";
                        lesson.completed = true;
                        renderLessons();
                        setTimeout(closeLessonModal, 2000);
                    }
                    return;
                }

                const q = lesson.quiz[currentQuestionIndex];
                let optionsHtml = q.a.map((option, i) => <div class="answer-option block mb-2 p-3 rounded-lg border border-gray-300 hover:bg-gray-100 cursor-pointer" data-value="${i}">${option}</div>).join('');

                questionArea.innerHTML = `
                    <p class="font-semibold mb-3">${currentQuestionIndex + 1}. ${q.q}</p>
                    <div id="question-options">${optionsHtml}</div>
                    <div id="question-timer-bar-container" class="w-full bg-gray-200 rounded-full mt-4"><div id="question-timer-bar" class="bg-blue-500 rounded-full" style="width: 100%;"></div></div>
                `;

                document.querySelectorAll('.answer-option').forEach(opt => opt.addEventListener('click', handleAnswer));

                startQuestionTimer();
                currentQuestionIndex++;
            };

            const startQuestionTimer = () => {
                const timerBar = document.getElementById('question-timer-bar');
                if (!timerBar) return;
                timerBar.style.transition = width ${ QUESTION_DURATION }s linear;
                setTimeout(() => timerBar.style.width = '0%', 10); // small delay to ensure transition applies
                questionTimer = setTimeout(() => handleAnswer(null), QUESTION_DURATION * 1000);
            };

            const handleAnswer = (event) => {
                cleanupTimers();

                const questionOptions = document.getElementById('question-options');
                if (questionOptions) questionOptions.style.pointerEvents = 'none';

                const lesson = lessons[currentLessonId];
                const q = lesson.quiz[currentQuestionIndex - 1];
                let points = WRONG_ANSWER_POINTS;

                if (event) {
                    const selectedOption = event.target;
                    const selectedValue = parseInt(selectedOption.dataset.value);
                    if (selectedValue === q.correct) {
                        points = CORRECT_ANSWER_POINTS;
                        selectedOption.classList.add('correct');
                    } else {
                        selectedOption.classList.add('incorrect');
                        const correctEl = document.querySelector(.answer - option[data - value="${q.correct}"]);
                        if (correctEl) correctEl.classList.add('correct');
                    }
                } else {
                    const correctEl = document.querySelector(.answer - option[data - value="${q.correct}"]);
                    if (correctEl) correctEl.classList.add('correct');
                }

                totalPoints += points;
                showPointsAnimation(points, currentLessonId);
                updatePointsDisplay();

                setTimeout(showNextQuestion, points > 0 ? 1500 : 2500);
            };

            // Initialization
            closeLessonModalBtn.addEventListener('click', closeLessonModal);
            lessonModal.addEventListener('click', (e) => { if (e.target === lessonModal) closeLessonModal(); });
            document.addEventListener('keydown', (e) => { if (e.key === 'Escape') closeLessonModal(); });

            renderLessons();
            updatePointsDisplay();
        });
    </script>
</body>

</html>